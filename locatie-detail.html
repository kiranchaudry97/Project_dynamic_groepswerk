<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Locatie Detail | BrusselsExplorer</title>
  <link rel="stylesheet" href="css/styl.css" />
  <link rel="stylesheet" href="css/locatie-detail.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>

<!-- notatie : navigatie balke en de andere pagina's, image logo toevogen-->

<nav class="navigatiebalk">
  <a href="index.html">
    <img src="images/logo%20brussel%20parcours.png" alt="Logo BrusselsExplorer" class="logo" />
  </a>
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="locatie.html">Locatie</a></li>
    <li><a href="about.html">Over</a></li>
    <li><a href="contact.html">Contact</a></li>
    <li><a href="login.html">Login</a></li>
  </ul>
</nav>
<!-- notatie : container aanmaken om naar terug te keren naar overzicht-->

<section class="detail-container">
  <p><a href="locatie.html">← Terug naar overzicht</a></p>
  <div id="locatie-detail"></div>
  <div id="map"></div>
</section>
<!-- notatie : het script uitroepen-->

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="js/location.js"></script>
<script src="js/log.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
      const detailDiv = document.getElementById("locatie-detail");
      const mapDiv = document.getElementById("map");
    
      const data = JSON.parse(sessionStorage.getItem("detailLocatie"));
    
      if (!data) {
        detailDiv.innerHTML = "<p>Geen gegevens gevonden. Keer terug naar <a href='locatie.html'>de lijst</a>.</p>";
        return;
      }
    
      const afbeelding = data.images?.[0]?.url || "https://via.placeholder.com/800x300?text=Geen+afbeelding";
      const titel = data.titre || "Onbekende titel";
      const auteur = data.auteur || "Onbekend";
      const beschrijving = data.description || "Geen beschrijving beschikbaar.";
      const adres = data.adresse || "Onbekend adres";
      const jaar = data.realisation || "?";
    
      const googleMapsLink = data.geo_point_2d
        ? `https://www.google.com/maps?q=${data.geo_point_2d.lat},${data.geo_point_2d.lon}`
        : `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(adres)}`;
    
      detailDiv.innerHTML = `
        <img src="${afbeelding}" alt="Afbeelding van ${titel}" class="detail-afbeelding" />
        <h1>${titel}</h1>
        <p><strong>🎨 Kunst:</strong> ${auteur}</p>
        <p><strong>📍 Locatie:</strong> ${adres}</p>
        <p><strong>📅 Jaar:</strong> ${jaar}</p>
        <p>${beschrijving}</p>
        <a href="${googleMapsLink}" target="_blank" class="kaart-link">🔗 Open in Google Maps</a>
      `;
    
      // Kaart tonen
      if (data.geo_point_2d) {
        const map = L.map('map').setView([data.geo_point_2d.lat, data.geo_point_2d.lon], 15);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '&copy; OpenStreetMap'
        }).addTo(map);
    
        L.marker([data.geo_point_2d.lat, data.geo_point_2d.lon])
          .addTo(map)
          .bindPopup(titel)
          .openPopup();
      } else {
        mapDiv.innerHTML = "<p>📍 Geen locatiegegevens beschikbaar voor deze locatie.</p>";
      }
    });
    </script>
    


</body>
</html>
